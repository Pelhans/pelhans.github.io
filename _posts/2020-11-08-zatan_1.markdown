---
layout:     post
title:      "[杂谈] 记录一次百度云服务器中毒事件"
subtitle:   ""
date:       2020-11-08 00:15:18
author:     "Pelhans"
header-img: "img/attention.jpg"
header-mask: 0.3 
catalog:    true
tags:
    - zatan
---


* TOC
{:toc}

# 简单杀毒

我之前在百度云上部署了一个开放领域图谱的 Neo4j 演示版，但总是莫名其妙的挂掉。用 top 命令查询，发现是 kswapd0 进程占用很高的内存和 CPU。上网一查说 **kswapd0 占用过高是因为 物理内存不足，使用swap分区与内存换页操作交换数据，导致CPU占用过高。**也就没多想，手动 kill 掉。

但这几天为了练习 C ++，就把服务器重置了，今天登陆一看，这个进程又吃了很多内存。。。这妥妥的有问题啊。。。因此就跟进了一下，看看到底为什么。首先通过

"""python
netstat -antlp
"""

命令看一下有哪些外部链接。一看 kswapd0 和 rsync 两个进程有荷兰的 ip 连接？？？说好的系统应用呢？这应该是中病毒了吧。。。用

"""python
lsof -p：pid
"""

命令查看进程关联的文件位置，删除对应的定时启动脚本 = =，更进一步的杀毒方法就不知道了。。。删掉之后再把那俩有问题的进程 kill 掉

"""
kill -9 pid
"""

大功告成 ~~~

# 修改密码

因为看病毒登录的是我 nlp 用户名的账户，这个账户的密码就是 nlp。。。所以大家别忘了修改密码，或者只允许密匙登录。
